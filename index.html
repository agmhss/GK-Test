<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>General Knowledge Challenge</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        body { font-family: 'Poppins', sans-serif; }
        .correct-ans { background-color: #10b981 !important; color: white; border-color: #059669 !important; }
        .wrong-ans { background-color: #ef4444 !important; color: white; border-color: #dc2626 !important; }
        .hidden { display: none; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen">

    <div id="setup-screen" class="max-w-lg mx-auto pt-20 px-4">
        <div class="bg-white p-8 rounded-2xl shadow-xl border-t-4 border-blue-600">
            <h1 class="text-3xl font-bold text-gray-800 mb-2 text-center">GK Quiz Portal</h1>
            <p class="text-gray-500 text-center mb-8">Test your GK</p>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold text-gray-600 mb-1">Full Name</label>
                    <input type="text" id="stu-name" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-400 outline-none" placeholder="Enter your name">
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-600 mb-1">Class</label>
                        <input type="text" id="stu-class" class="w-full p-3 border rounded-lg" placeholder="e.g. 9">
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-gray-600 mb-1">Section</label>
                        <input type="text" id="stu-sec" class="w-full p-3 border rounded-lg" placeholder="e.g. A">
                    </div>
                </div>
                <button onclick="initQuiz()" class="w-full bg-blue-600 text-white py-4 rounded-lg font-bold text-lg hover:bg-blue-700 transition transform hover:scale-[1.02]">
                    Start Challenge
                </button>
            </div>
        </div>
    </div>

    <div id="quiz-screen" class="hidden max-w-3xl mx-auto pt-10 px-4">
        <div class="bg-white rounded-2xl shadow-2xl overflow-hidden">
            <div class="bg-blue-600 p-4 flex justify-between items-center text-white">
                <div>
                    <span class="text-sm opacity-80">Question</span>
                    <div class="text-xl font-bold"><span id="q-number">1</span> / 20</div>
                </div>
                <div class="text-center">
                    <div id="timer-circle" class="w-12 h-12 rounded-full border-4 border-white/30 flex items-center justify-center text-xl font-bold">
                        30
                    </div>
                </div>
                <div class="text-right">
                    <span class="text-sm opacity-80">Score</span>
                    <div id="score-display" class="text-xl font-bold">0</div>
                </div>
            </div>

            <div class="w-full h-2 bg-gray-100">
                <div id="progress-bar" class="h-full bg-yellow-400 transition-all duration-500" style="width: 5%"></div>
            </div>

            <div class="p-8">
                <h2 id="question-text" class="text-2xl font-semibold text-gray-800 mb-8 min-h-[80px]"></h2>
                <div id="options-container" class="grid grid-cols-1 gap-4">
                    </div>
                
                <div id="feedback-area" class="mt-8 text-center h-10 font-bold text-xl"></div>
            </div>
        </div>
    </div>

    <div id="result-screen" class="hidden max-w-2xl mx-auto pt-10 px-4 pb-20">
        <div class="bg-white p-10 rounded-3xl shadow-2xl text-center border-b-8 border-green-500">
            <div class="text-6xl mb-4">üèÜ</div>
            <h2 class="text-4xl font-bold text-gray-800 mb-2">Great Job!</h2>
            <p id="final-stats" class="text-xl text-gray-600 mb-8"></p>
            
            <div class="bg-slate-50 p-6 rounded-2xl mb-8 text-left border border-slate-200">
                <h3 class="text-blue-600 font-bold uppercase tracking-wider text-sm mb-3">Hall of Fame Details</h3>
                <div class="grid grid-cols-3 gap-4">
                    <div><p class="text-xs text-gray-400">NAME</p><p id="hof-name" class="font-bold"></p></div>
                    <div><p class="text-xs text-gray-400">CLASS</p><p id="hof-class" class="font-bold"></p></div>
                    <div><p class="text-xs text-gray-400">SECTION</p><p id="hof-sec" class="font-bold"></p></div>
                </div>
            </div>

            <button onclick="generateCertificate()" class="bg-green-600 text-white px-10 py-4 rounded-xl font-bold hover:bg-green-700 shadow-lg transition">
                Download PDF Certificate
            </button>
        </div>
    </div>

    <script>
        //  QUESTION BANK 
        const masterBank = [
            // --- TAMIL NADU (40) ---
            { q: "What is the state animal of Tamil Nadu?", a: ["Nilgiri Tahr", "Tiger", "Elephant", "Leopard"], c: 0, r: "TN", d: "easy" },
            { q: "Which city is known as the 'Temple City' of Tamil Nadu?", a: ["Madurai", "Chennai", "Trichy", "Salem"], c: 0, r: "TN", d: "easy" },
            { q: "Which is the longest river in Tamil Nadu?", a: ["Kaveri", "Vaigai", "Palar", "Thamirabarani"], c: 0, r: "TN", d: "easy" },
            { q: "What is the state bird of Tamil Nadu?", a: ["Emerald Dove", "Peacock", "Parrot", "Eagle"], c: 0, r: "TN", d: "easy" },
            { q: "Which festival is known as the Harvest Festival of TN?", a: ["Pongal", "Diwali", "Holi", "Onam"], c: 0, r: "TN", d: "easy" },
            { q: "The Marina Beach is located in which city?", a: ["Chennai", "Kanyakumari", "Tuticorin", "Mahabalipuram"], c: 0, r: "TN", d: "easy" },
            { q: "What is the state tree of Tamil Nadu?", a: ["Palm Tree", "Neem Tree", "Banyan Tree", "Mango Tree"], c: 0, r: "TN", d: "easy" },
            { q: "Who is the 'Father of Tamil Literature'?", a: ["Agastya", "Thiruvalluvar", "Kambar", "Bharathiyar"], c: 0, r: "TN", d: "easy" },
            { q: "Which district is known as the 'Textile Valley' of TN?", a: ["Tiruppur", "Erode", "Coimbatore", "Karur"], c: 2, r: "TN", d: "medium" },
            { q: "Where is the Rockfort Temple located?", a: ["Trichy", "Madurai", "Thanjavur", "Vellore"], c: 0, r: "TN", d: "medium" },
            { q: "Which king built the Kallanai dam?", a: ["Karikala Cholan", "Raja Raja Cholan", "Rajendra Cholan", "Pandyan Nedunchezhian"], c: 0, r: "TN", d: "medium" },
            { q: "In which year was Madras renamed to Chennai?", a: ["1996", "1991", "1998", "2000"], c: 0, r: "TN", d: "medium" },
            { q: "Which city is known as the 'Knitwear Capital' of India?", a: ["Tiruppur", "Salem", "Madurai", "Chennai"], c: 0, r: "TN", d: "medium" },
            { q: "Where is the Tamil Nadu Agricultural University located?", a: ["Coimbatore", "Madurai", "Trichy", "Thanjavur"], c: 0, r: "TN", d: "medium" },
            { q: "Which town is famous for handmade locks?", a: ["Dindigul", "Sivakasi", "Pollachi", "Ambur"], c: 0, r: "TN", d: "medium" },
            { q: "The Pancha Rathas are located in which place?", a: ["Mahabalipuram", "Kanchipuram", "Thanjavur", "Rameswaram"], c: 0, r: "TN", d: "hard" },
            { q: "Which TN poet wrote 'Panchali Sabatham'?", a: ["Subramania Bharati", "Bharathidasan", "Kannadasan", "Kambar"], c: 0, r: "TN", d: "hard" },
            { q: "What is the height of the Anaimudi peak?", a: ["2695m", "2500m", "2800m", "2400m"], c: 0, r: "TN", d: "hard" },
            { q: "Which city in Tamil Nadu is known as 'Little Japan'?", a: ["Sivakasi", "Erode", "Hosur", "Salem"], c: 0, r: "TN", d: "medium" },
            { q: "Which is the state butterfly of Tamil Nadu?", a: ["Tamil Yeoman", "Common Mormon", "Blue Oakleaf", "Paris Peacock"], c: 0, r: "TN", d: "hard" },
            { q: "Where is the 'Central Leather Research Institute' located?", a: ["Chennai", "Ambur", "Vaniyambadi", "Ranipet"], c: 0, r: "TN", d: "hard" },
            { q: "Which district has the highest literacy rate in Tamil Nadu?", a: ["Kanyakumari", "Chennai", "Thoothukudi", "Nilgiris"], c: 0, r: "TN", d: "medium" },
            { q: "Which hill station is known as the 'Princess of Hill Stations'?", a: ["Kodaikanal", "Ooty", "Yercaud", "Valparai"], c: 0, r: "TN", d: "easy" },
            { q: "In which city is the 'Meenakshi Amman Temple' located?", a: ["Madurai", "Thanjavur", "Chidambaram", "Rameswaram"], c: 0, r: "TN", d: "easy" },
            { q: "Which Tamil Nadu port is known as the 'Pearl City'?", a: ["Thoothukudi", "Chennai", "Ennore", "Cuddalore"], c: 0, r: "TN", d: "medium" },
            { q: "Who was the first speaker of the Tamil Nadu Legislative Assembly?", a: ["J. Sivashanmugam Pillai", "P. Rajagopalachari", "U. Krishna Rao", "S. Chellapandian"], c: 0, r: "TN", d: "hard" },
            { q: "The 'Hogenakkal Falls' is located on which river?", a: ["Kaveri", "Vaigai", "Palar", "Bhavani"], c: 0, r: "TN", d: "medium" },
            { q: "Which city is famous for its 'Halwa' in Tamil Nadu?", a: ["Tirunelveli", "Srivilliputhur", "Manapparai", "Madurai"], c: 0, r: "TN", d: "easy" },
            { q: "Which is the largest district in Tamil Nadu by area?", a: ["Erode", "Viluppuram", "Dharmapuri", "Tiruvannamalai"], c: 1, r: "TN", d: "medium" },
            { q: "The 'Bharathiar University' is located in which city?", a: ["Coimbatore", "Chennai", "Trichy", "Salem"], c: 0, r: "TN", d: "medium" },
            { q: "Which place is known as the 'Steel City' of Tamil Nadu?", a: ["Salem", "Hosur", "Mettur", "Trichy"], c: 0, r: "TN", d: "easy" },
            { q: "In which district is the 'Vandalur Zoo' located?", a: ["Chengalpattu", "Chennai", "Kanchipuram", "Thiruvallur"], c: 0, r: "TN", d: "easy" },
            { q: "Which is the state flower of Tamil Nadu?", a: ["Gloriosa Lily", "Lotus", "Jasmine", "Rose"], c: 0, r: "TN", d: "easy" },
            { q: "Which city is known as the 'Yellow City' of India for its turmeric?", a: ["Erode", "Salem", "Karur", "Namakkal"], c: 0, r: "TN", d: "medium" },
            { q: "The 'Pichavaram Mangrove Forest' is in which district?", a: ["Cuddalore", "Nagapattinam", "Thanjavur", "Tiruvarur"], c: 0, r: "TN", d: "hard" },
            { q: "Which freedom fighter from TN is known as 'Kappalottiya Thamizhan'?", a: ["V.O. Chidambaram Pillai", "Subramania Bharati", "K. Kamaraj", "Rajaji"], c: 0, r: "TN", d: "medium" },
            { q: "Which temple is called the 'Dakshina Meru'?", a: ["Brihadeeswarar Temple", "Meenakshi Temple", "Ranganathaswamy Temple", "Sripuram Temple"], c: 0, r: "TN", d: "hard" },
            { q: "Which town is famous for the 'Athangudi Tiles'?", a: ["Sivaganga", "Karaikudi", "Devakottai", "Pudukkottai"], c: 1, r: "TN", d: "hard" },
            { q: "The 'Neyveli Lignite Corporation' is in which district?", a: ["Cuddalore", "Salem", "Trichy", "Karur"], c: 0, r: "TN", d: "medium" },
            { q: "Who was the chief architect of the 'Vidhana Soudha' style of architecture in TN temples?", a: ["Agastya", "Viswakarma", "Perumthachan", "Mayan"], c: 3, r: "TN", d: "hard" },

            // --- INDIA (Remaining 32 to reach 40) ---
           { q: "Who was the first President of India?", a: ["Dr. Rajendra Prasad", "Dr. S. Radhakrishnan", "Zakir Husain", "V.V. Giri"], c: 0, r: "IN", d: "easy" },
           { q: "Which city is known as the 'Pink City' of India?", a: ["Jaipur", "Jodhpur", "Udaipur", "Bikaner"], c: 0, r: "IN", d: "easy" },
           { q: "What is the national heritage animal of India?", a: ["Elephant", "Tiger", "Lion", "Rhino"], c: 0, r: "IN", d: "medium" },
           { q: "Which is the highest civilian award in India?", a: ["Bharat Ratna", "Padma Vibhushan", "Padma Bhushan", "Param Vir Chakra"], c: 0, r: "IN", d: "easy" },
           { q: "Who wrote the national anthem 'Jana Gana Mana'?", a: ["Rabindranath Tagore", "Bankim Chandra Chattopadhyay", "Sarojini Naidu", "Gulzar"], c: 0, r: "IN", d: "easy" },
           { q: "In which year did India win its first Cricket World Cup?", a: ["1983", "2011", "2007", "1975"], c: 0, r: "IN", d: "easy" },
           { q: "Which state is known as the 'Land of Five Rivers'?", a: ["Punjab", "Haryana", "UP", "Bihar"], c: 0, r: "IN", d: "medium" },
           { q: "The 'Kaziranga National Park' is located in which state?", a: ["Assam", "West Bengal", "Odisha", "Manipur"], c: 0, r: "IN", d: "medium" },
           { q: "Who was the first Indian woman in space?", a: ["Kalpana Chawla", "Sunita Williams", "Kiran Bedi", "Pratibha Patil"], c: 0, r: "IN", d: "easy" },
           { q: "Which river is also known as the 'Sorrow of Bihar'?", a: ["Kosi", "Gandak", "Son", "Ganga"], c: 0, r: "IN", d: "hard" },
           { q: "Where is the 'Indian Institute of Science' (IISc) located?", a: ["Bengaluru", "Mumbai", "Chennai", "Delhi"], c: 0, r: "IN", d: "medium" },
           { q: "What is the classical dance of Kerala?", a: ["Kathakali", "Mohiniyattam", "Both", "Bharatanatyam"], c: 2, r: "IN", d: "medium" },
           { q: "Who is the 'Grand Old Man of India'?", a: ["Dadabhai Naoroji", "Bal Gangadhar Tilak", "Lala Lajpat Rai", "Gopal Krishna Gokhale"], c: 0, r: "IN", d: "hard" },
           { q: "The 'White Revolution' in India is related to?", a: ["Milk", "Rice", "Cotton", "Salt"], c: 0, r: "IN", d: "easy" },
           { q: "Which city is called the 'Silicon Valley of India'?", a: ["Bengaluru", "Hyderabad", "Pune", "Gurgaon"], c: 0, r: "IN", d: "easy" },
           { q: "The first railway line in India was opened in which year?", a: ["1853", "1857", "1901", "1885"], c: 0, r: "IN", d: "medium" },
           { q: "Which pass connects Srinagar to Leh?", a: ["Zoji La", "Rohtang", "Nathu La", "Shipki La"], c: 0, r: "IN", d: "hard" },
           { q: "Who was the first woman Prime Minister of India?", a: ["Indira Gandhi", "Sushma Swaraj", "Pratibha Patil", "Annie Besant"], c: 0, r: "IN", d: "easy" },
{ q: "What is the national tree of India?", a: ["Banyan", "Peepal", "Neem", "Mango"], c: 0, r: "IN", d: "easy" },
{ q: "The 'Garo' and 'Khasi' hills are in which state?", a: ["Meghalaya", "Assam", "Sikkim", "Arunachal"], c: 0, r: "IN", d: "hard" },
{ q: "Who is known as the 'Iron Man of India'?", a: ["Sardar Vallabhbhai Patel", "Bhagat Singh", "Subhash Chandra Bose", "B.R. Ambedkar"], c: 0, r: "IN", d: "easy" },
{ q: "Which state is the largest producer of tea in India?", a: ["Assam", "West Bengal", "Kerala", "Tamil Nadu"], c: 0, r: "IN", d: "medium" },
{ q: "In which city is the 'Gateway of India' located?", a: ["Mumbai", "New Delhi", "Kolkata", "Chennai"], c: 0, r: "IN", d: "easy" },
{ q: "Who was the first Indian to win a Nobel Prize?", a: ["Rabindranath Tagore", "C.V. Raman", "Mother Teresa", "Amartya Sen"], c: 0, r: "IN", d: "medium" },
{ q: "The 'Dandi March' was started in which year?", a: ["1930", "1920", "1942", "1919"], c: 0, r: "IN", d: "medium" },
{ q: "Which is the smallest state in India by area?", a: ["Goa", "Sikkim", "Tripura", "Mizoram"], c: 0, r: "IN", d: "easy" },
{ q: "The 'Indira Point' is located in which island?", a: ["Nicobar", "Andaman", "Lakshadweep", "Majuli"], c: 0, r: "IN", d: "hard" },
{ q: "Who is the chief architect of the Indian Constitution?", a: ["B.R. Ambedkar", "Jawaharlal Nehru", "B.N. Rau", "Rajendra Prasad"], c: 0, r: "IN", d: "easy" },
{ q: "Which state has the longest coastline in India?", a: ["Gujarat", "Andhra Pradesh", "Tamil Nadu", "Maharashtra"], c: 0, r: "IN", d: "medium" },
{ q: "The 'Sundarbans Delta' is formed by which rivers?", a: ["Ganga & Brahmaputra", "Indus", "Godavari", "Krishna"], c: 0, r: "IN", d: "medium" },
{ q: "What is the national aquatic animal of India?", a: ["Ganges River Dolphin", "Blue Whale", "Dugong", "Turtle"], c: 0, r: "IN", d: "hard" },
{ q: "Who founded the 'Indian National Army' (INA)?", a: ["Subhash Chandra Bose", "Rash Behari Bose", "Bhagat Singh", "Rajguru"], c: 1, r: "IN", d: "hard" },

// --- WORLD (Remaining 16 to reach 20) ---
{ q: "Which is the largest country in the world by area?", a: ["Russia", "Canada", "China", "USA"], c: 0, r: "W", d: "easy" },
{ q: "Which is the longest river in the world?", a: ["Nile", "Amazon", "Yangtze", "Mississippi"], c: 0, r: "W", d: "easy" },
{ q: "Who invented the telephone?", a: ["Alexander Graham Bell", "Thomas Edison", "Nikola Tesla", "Marconi"], c: 0, r: "W", d: "easy" },
{ q: "Which is the hottest planet in the solar system?", a: ["Venus", "Mercury", "Mars", "Jupiter"], c: 0, r: "W", d: "medium" },
{ q: "In which continent is the Sahara Desert located?", a: ["Africa", "Asia", "South America", "Australia"], c: 0, r: "W", d: "easy" },
{ q: "What is the currency of Japan?", a: ["Yen", "Won", "Yuan", "Dollar"], c: 0, r: "W", d: "easy" },
{ q: "Who was the first man to step on the Moon?", a: ["Neil Armstrong", "Buzz Aldrin", "Yuri Gagarin", "Elon Musk"], c: 0, r: "W", d: "easy" },
{ q: "Which country is the largest producer of coffee?", a: ["Brazil", "Vietnam", "Colombia", "Ethiopia"], c: 0, r: "W", d: "medium" },
{ q: "What is the capital of France?", a: ["Paris", "London", "Berlin", "Rome"], c: 0, r: "W", d: "easy" },
{ q: "Which is the smallest continent?", a: ["Australia", "Europe", "Antarctica", "South America"], c: 0, r: "W", d: "medium" },
{ q: "Who is known as the 'Lady with the Lamp'?", a: ["Florence Nightingale", "Mother Teresa", "Marie Curie", "Sarojini Naidu"], c: 0, r: "W", d: "medium" },
{ q: "What is the chemical symbol for Gold?", a: ["Au", "Ag", "Fe", "Cu"], c: 0, r: "W", d: "medium" },
{ q: "Which country gifted the 'Statue of Liberty' to the USA?", a: ["France", "UK", "Germany", "Italy"], c: 0, r: "W", d: "hard" },
{ q: "How many bones are there in an adult human body?", a: ["206", "208", "210", "196"], c: 0, r: "W", d: "easy" },
{ q: "What is the capital of Australia?", a: ["Canberra", "Sydney", "Melbourne", "Perth"], c: 0, r: "W", d: "hard" },
{ q: "Which is the most populous country in the world (as of 2024)?", a: ["India", "China", "USA", "Indonesia"], c: 0, r: "W", d: "medium" }
        ];
        

        let quizData = [];
        let currentQIndex = 0;
        let score = 0;
        let timer;
        let timeLeft = 30;

        function initQuiz() {
            const name = document.getElementById('stu-name').value;
            if(!name) return alert("Please enter your name!");

            // 1. Logic: 10 Easy, 7 Medium, 3 Hard
            // 2. Regional Logic: 8 TN, 8 India, 4 World
            
            const poolTN = masterBank.filter(q => q.r === "TN").sort(() => 0.5 - Math.random());
            const poolIN = masterBank.filter(q => q.r === "IN").sort(() => 0.5 - Math.random());
            const poolW = masterBank.filter(q => q.r === "W").sort(() => 0.5 - Math.random());

            quizData = [...poolTN.slice(0, 8), ...poolIN.slice(0, 8), ...poolW.slice(0, 4)];
            quizData.sort(() => 0.5 - Math.random()); // Final shuffle

            document.getElementById('setup-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            renderQuestion();
        }

        function renderQuestion() {
            if(currentQIndex >= 20) return showResults();
            
            clearInterval(timer);
            timeLeft = 30;
            updateTimerUI();
            
            const q = quizData[currentQIndex];
            document.getElementById('q-number').innerText = currentQIndex + 1;
            document.getElementById('question-text').innerText = q.q;
            document.getElementById('progress-bar').style.width = ((currentQIndex + 1) / 20 * 100) + "%";
            
            const optionsBox = document.getElementById('options-container');
            optionsBox.innerHTML = '';
            document.getElementById('feedback-area').innerText = '';

            q.a.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = "p-4 text-left border-2 border-gray-200 rounded-xl hover:border-blue-400 hover:bg-blue-50 transition font-medium";
                btn.innerText = opt;
                btn.onclick = () => handleSubmission(idx);
                optionsBox.appendChild(btn);
            });

            timer = setInterval(() => {
                timeLeft--;
                updateTimerUI();
                if(timeLeft <= 0) handleSubmission(-1);
            }, 1000);
        }

        function updateTimerUI() {
            const t = document.getElementById('timer-circle');
            t.innerText = timeLeft;
            if(timeLeft <= 10) t.classList.add('border-red-500', 'text-red-500');
            else t.classList.remove('border-red-500', 'text-red-500');
        }

        function handleSubmission(choice) {
            clearInterval(timer);
            const q = quizData[currentQIndex];
            const btns = document.getElementById('options-container').children;
            const feedback = document.getElementById('feedback-area');

            if(choice === q.c) {
                score++;
                document.getElementById('score-display').innerText = score;
                feedback.innerText = "‚ú® Excellent! Correct Answer ‚ú®";
                feedback.className = "mt-8 text-center h-10 font-bold text-xl text-green-500";
                btns[choice].classList.add('correct-ans');
            } else {
                feedback.innerText = "Better luck next time!";
                feedback.className = "mt-8 text-center h-10 font-bold text-xl text-red-500";
                if(choice !== -1) btns[choice].classList.add('wrong-ans');
                btns[q.c].classList.add('correct-ans');
            }

            setTimeout(() => {
                currentQIndex++;
                renderQuestion();
            }, 1800);
        }

        function showResults() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            
            document.getElementById('final-stats').innerText = `You scored ${score} out of 20 questions!`;
            document.getElementById('hof-name').innerText = document.getElementById('stu-name').value;
            document.getElementById('hof-class').innerText = document.getElementById('stu-class').value;
            document.getElementById('hof-sec').innerText = document.getElementById('stu-sec').value;
        }

        function generateCertificate() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF('l', 'mm', 'a4');
            const name = document.getElementById('stu-name').value;
            const date = new Date().toLocaleDateString();

            // Border Design
            doc.setLineWidth(2);
            doc.setDrawColor(30, 64, 175);
            doc.rect(5, 5, 287, 200);
            doc.setLineWidth(1);
            doc.rect(8, 8, 281, 194);

            // Title
            doc.setTextColor(30, 64, 175);
            doc.setFontSize(44);
            doc.text("CERTIFICATE OF EXCELLENCE", 148, 50, null, null, 'center');

            // Content
            doc.setTextColor(60, 60, 60);
            doc.setFontSize(20);
            doc.text("This achievement award is presented to", 148, 75, null, null, 'center');
            
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(34);
            doc.setFont(undefined, 'bold');
            doc.text(name.toUpperCase(), 148, 100, null, null, 'center');
            
            doc.setFont(undefined, 'normal');
            doc.setFontSize(18);
            doc.text(`For outstanding performance in the General Knowledge Challenge`, 148, 125, null, null, 'center');
            doc.text(`achieving a score of ${score} / 20`, 148, 138, null, null, 'center');

            // Bottom elements
            doc.setDrawColor(200, 200, 200);
            doc.line(100, 170, 196, 170);
            doc.setFontSize(12);
            doc.text("Authorized Signature", 148, 178, null, null, 'center');
            doc.text(`Date: ${date}`, 20, 190);

            doc.save(`GK_Certificate_${name}.pdf`);
        }
    </script>
</body>
</html>
